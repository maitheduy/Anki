<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GermanKids - H·ªçc Ti·∫øng ƒê·ª©c Vui Nh·ªôn</title>
    <style>
        :root {
            --primary: #4A6FA5;
            --secondary: #FF9F1C;
            --accent: #E71D36;
            --light: #F8F9FA;
            --dark: #2B2D42;
            --success: #2EC4B6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Segoe UI', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #4A6FA5, #2B2D42);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--light);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 15px;
            margin-bottom: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .card-container {
            perspective: 1000px;
            height: 300px;
            margin: 20px 0;
        }
        
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .card-front {
            background: linear-gradient(135deg, var(--secondary), #FFBF69);
            color: var(--dark);
        }
        
        .card-back {
            background: linear-gradient(135deg, var(--primary), #6A8EBA);
            color: white;
            transform: rotateY(180deg);
        }
        
        .german-word {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .category {
            font-size: 1rem;
            background-color: rgba(255, 255, 255, 0.3);
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 15px;
        }
        
        .translation {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }
        
        .example {
            font-size: 1.2rem;
            font-style: italic;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .hint {
            font-size: 1rem;
            margin-top: 15px;
            opacity: 0.7;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
        }
        
        .difficulty-controls {
            display: flex;
            gap: 10px;
            flex: 2;
        }
        
        .navigation-controls {
            display: flex;
            gap: 10px;
            flex: 1;
            justify-content: flex-end;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            flex: 1;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .btn-easy {
            background-color: var(--success);
            color: white;
        }
        
        .btn-medium {
            background-color: var(--secondary);
            color: var(--dark);
        }
        
        .btn-hard {
            background-color: var(--accent);
            color: white;
        }
        
        .btn-prev {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-next {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-flip {
            background-color: var(--primary);
            color: white;
            margin: 0 auto;
            display: block;
            width: 200px;
        }
        
        .progress-container {
            margin-top: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 15px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--dark);
        }
        
        .decoration {
            position: absolute;
            font-size: 2rem;
            opacity: 0.1;
            z-index: 0;
        }
        
        .decoration-1 {
            top: 10px;
            left: 20px;
        }
        
        .decoration-2 {
            bottom: 10px;
            right: 20px;
        }
        
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .category-btn {
            padding: 8px 15px;
            background-color: #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        .card-counter {
            text-align: center;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--dark);
            opacity: 0.7;
        }
        
        .navigation-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background-color: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        .nav-btn:active {
            transform: translateY(1px);
        }
        
        .nav-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .german-word {
                font-size: 2rem;
            }
            
            .translation {
                font-size: 1.5rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .difficulty-controls, .navigation-controls {
                width: 100%;
            }
            
            button {
                width: 100%;
            }
            
            .navigation-buttons {
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="decoration decoration-1">üá©üá™</div>
            <h1>GermanKids</h1>
            <div class="subtitle">H·ªçc ti·∫øng ƒê·ª©c vui nh·ªôn cho tr·∫ª em</div>
            <div class="decoration decoration-2">üìö</div>
        </header>
        
        <div class="category-filter" id="categoryFilter">
            <!-- Categories will be generated by JavaScript -->
        </div>
        
        <div class="card-container">
            <div class="card" id="flashcard">
                <div class="card-face card-front">
                    <div class="category" id="cardCategory">C√¢u h·ªèi ch√≠nh</div>
                    <div class="german-word" id="germanWord">Wie hei√üen Sie?</div>
                    <div class="hint">(Nh·∫•n ƒë·ªÉ xem nghƒ©a)</div>
                </div>
                <div class="card-face card-back">
                    <div class="translation" id="translation">T√™n c·ªßa ng√†i l√† g√¨?</div>
                    <div class="example" id="example">"Wie hei√üen Sie?" - "Ich hei√üe Anna."</div>
                    <div class="hint">(Nh·∫•n ƒë·ªÉ quay l·∫°i)</div>
                </div>
            </div>
        </div>
        
        <div class="card-counter" id="cardCounter">Th·∫ª 1/50</div>
        
        <div class="navigation-buttons">
            <button class="nav-btn" id="prevBtn" title="Th·∫ª tr∆∞·ªõc">‚Üê</button>
            <button class="btn-flip" id="flipBtn">L·∫≠t th·∫ª</button>
            <button class="nav-btn" id="nextBtn" title="Th·∫ª ti·∫øp theo">‚Üí</button>
        </div>
        
        <div class="controls">
            <div class="difficulty-controls">
                <button class="btn-easy" id="easyBtn">D·ªÖ üòä</button>
                <button class="btn-medium" id="mediumBtn">Trung b√¨nh üòê</button>
                <button class="btn-hard" id="hardBtn">Kh√≥ üòì</button>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="learnedCount">0</div>
                <div class="stat-label">ƒê√£ h·ªçc</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalCount">0</div>
                <div class="stat-label">T·ªïng s·ªë t·ª´</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="streakCount">0</div>
                <div class="stat-label">Ng√†y h·ªçc li√™n ti·∫øp</div>
            </div>
        </div>
    </div>

    <script>
        // D·ªØ li·ªáu t·ª´ v·ª±ng
        const vocabulary = [
            // C√°c c√¢u h·ªèi ch√≠nh (W-Fragen)
            {
                german: "Wie hei√üen Sie?",
                translation: "T√™n c·ªßa ng√†i l√† g√¨?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Wie hei√üen Sie?" - "Ich hei√üe Anna."'
            },
            {
                german: "Woher kommen Sie?",
                translation: "Ng√†i ƒë·∫øn t·ª´ ƒë√¢u?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Woher kommen Sie?" - "Ich komme aus Vietnam."'
            },
            {
                german: "Wo wohnen Sie?",
                translation: "Ng√†i s·ªëng ·ªü ƒë√¢u?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Wo wohnen Sie?" - "Ich wohne in Berlin."'
            },
            {
                german: "Wie hei√üt du?",
                translation: "T√™n c·ªßa b·∫°n l√† g√¨?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Wie hei√üt du?" - "Ich hei√üe Minh."'
            },
            {
                german: "Woher kommst du?",
                translation: "B·∫°n ƒë·∫øn t·ª´ ƒë√¢u?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Woher kommst du?" - "Ich komme aus Hanoi."'
            },
            {
                german: "Wo wohnst du?",
                translation: "B·∫°n s·ªëng ·ªü ƒë√¢u?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Wo wohnst du?" - "Ich wohne in Frankfurt."'
            },
            {
                german: "Wo lernst du Deutsch?",
                translation: "B·∫°n h·ªçc ti·∫øng ƒê·ª©c ·ªü ƒë√¢u?",
                category: "C√¢u h·ªèi ch√≠nh",
                example: '"Wo lernst du Deutsch?" - "Ich lerne Deutsch in der Schule."'
            },
            
            // C√°c c√¢u tr·∫£ l·ªùi v√† c·ª•m t·ª´ gi·ªõi thi·ªáu
            {
                german: "Ich bin...",
                translation: "T√¥i l√†...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich bin Lehrer." (T√¥i l√† gi√°o vi√™n.)'
            },
            {
                german: "Ich hei√üe...",
                translation: "T√¥i t√™n l√†...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich hei√üe Nguyen." (T√¥i t√™n l√† Nguy√™n.)'
            },
            {
                german: "Mein Name ist...",
                translation: "T√™n c·ªßa t√¥i l√†...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Mein Name ist Linh." (T√™n c·ªßa t√¥i l√† Linh.)'
            },
            {
                german: "Ich komme aus...",
                translation: "T√¥i ƒë·∫øn t·ª´...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich komme aus Vietnam." (T√¥i ƒë·∫øn t·ª´ Vi·ªát Nam.)'
            },
            {
                german: "Ich wohne in...",
                translation: "T√¥i s·ªëng ·ªü...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich wohne in M√ºnchen." (T√¥i s·ªëng ·ªü Munich.)'
            },
            {
                german: "Das ist...",
                translation: "ƒê√¢y l√†...",
                category: "Gi·ªõi thi·ªáu",
                example: '"Das ist mein Freund." (ƒê√¢y l√† b·∫°n c·ªßa t√¥i.)'
            },
            {
                german: "Und Sie?",
                translation: "C√≤n ng√†i th√¨ sao?",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich komme aus Berlin. Und Sie?" (T√¥i ƒë·∫øn t·ª´ Berlin. C√≤n ng√†i?)'
            },
            {
                german: "Und du?",
                translation: "C√≤n b·∫°n th√¨ sao?",
                category: "Gi·ªõi thi·ªáu",
                example: '"Ich wohne in Hamburg. Und du?" (T√¥i s·ªëng ·ªü Hamburg. C√≤n b·∫°n?)'
            },
            
            // ƒê·ªông t·ª´ (Verben)
            {
                german: "sich vorstellen",
                translation: "t·ª± gi·ªõi thi·ªáu",
                category: "ƒê·ªông t·ª´",
                example: '"Kannst du dich vorstellen?" (B·∫°n c√≥ th·ªÉ t·ª± gi·ªõi thi·ªáu kh√¥ng?)'
            },
            {
                german: "sein",
                translation: "th√¨, l√†, ·ªü",
                category: "ƒê·ªông t·ª´",
                example: '"Ich bin Student." (T√¥i l√† sinh vi√™n.)'
            },
            {
                german: "hei√üen",
                translation: "t√™n l√†, ƒë∆∞·ª£c g·ªçi l√†",
                category: "ƒê·ªông t·ª´",
                example: '"Wie hei√üt du?" (B·∫°n t√™n l√† g√¨?)'
            },
            {
                german: "kommen",
                translation: "ƒë·∫øn",
                category: "ƒê·ªông t·ª´",
                example: '"Ich komme aus Vietnam." (T√¥i ƒë·∫øn t·ª´ Vi·ªát Nam.)'
            },
            {
                german: "wohnen",
                translation: "s·ªëng, c∆∞ ng·ª•",
                category: "ƒê·ªông t·ª´",
                example: '"Wo wohnst du?" (B·∫°n s·ªëng ·ªü ƒë√¢u?)'
            },
            {
                german: "lernen",
                translation: "h·ªçc",
                category: "ƒê·ªông t·ª´",
                example: '"Ich lerne Deutsch." (T√¥i h·ªçc ti·∫øng ƒê·ª©c.)'
            },
            {
                german: "sagen",
                translation: "n√≥i, b·∫£o",
                category: "ƒê·ªông t·ª´",
                example: '"Was sagst du?" (B·∫°n n√≥i g√¨ v·∫≠y?)'
            },
            
            // Danh t·ª´ (Nomen)
            {
                german: "der Deutschkurs",
                translation: "l·ªõp h·ªçc ti·∫øng ƒê·ª©c",
                category: "Danh t·ª´",
                example: '"Ich besuche einen Deutschkurs." (T√¥i tham gia m·ªôt l·ªõp h·ªçc ti·∫øng ƒê·ª©c.)'
            },
            {
                german: "die Deutschlehrerin",
                translation: "c√¥ gi√°o ti·∫øng ƒê·ª©c",
                category: "Danh t·ª´",
                example: '"Meine Deutschlehrerin kommt aus Deutschland." (C√¥ gi√°o ti·∫øng ƒê·ª©c c·ªßa t√¥i ƒë·∫øn t·ª´ ƒê·ª©c.)'
            },
            
            // Tr·∫°ng t·ª´ & C√°c t·ª´ kh√°c
            {
                german: "jetzt",
                translation: "b√¢y gi·ªù, hi·ªán t·∫°i",
                category: "Tr·∫°ng t·ª´",
                example: '"Jetzt lerne ich Deutsch." (B√¢y gi·ªù t√¥i ƒëang h·ªçc ti·∫øng ƒê·ª©c.)'
            },
            {
                german: "auch",
                translation: "c≈©ng, c≈©ng v·∫≠y",
                category: "Tr·∫°ng t·ª´",
                example: '"Ich komme aus Vietnam. Und du?" - "Ich auch!" (T√¥i ƒë·∫øn t·ª´ Vi·ªát Nam. C√≤n b·∫°n? - T√¥i c≈©ng v·∫≠y!)'
            },
            {
                german: "hier",
                translation: "·ªü ƒë√¢y",
                category: "Tr·∫°ng t·ª´",
                example: '"Ich wohne hier." (T√¥i s·ªëng ·ªü ƒë√¢y.)'
            },
            {
                german: "mal",
                translation: "n√†o, xem n√†o (t·ª´ ƒë·ªám)",
                category: "Tr·∫°ng t·ª´",
                example: '"Sag mal, wie hei√üt du?" (N√†y, b·∫°n t√™n l√† g√¨?)'
            },
            
            // T√™n qu·ªëc gia (L√§nder)
            {
                german: "Deutschland",
                translation: "N∆∞·ªõc ƒê·ª©c",
                category: "Qu·ªëc gia",
                example: '"Ich komme aus Deutschland." (T√¥i ƒë·∫øn t·ª´ n∆∞·ªõc ƒê·ª©c.)'
            },
            {
                german: "Vietnam",
                translation: "N∆∞·ªõc Vi·ªát Nam",
                category: "Qu·ªëc gia",
                example: '"Meine Familie kommt aus Vietnam." (Gia ƒë√¨nh t√¥i ƒë·∫øn t·ª´ Vi·ªát Nam.)'
            },
            {
                german: "die T√ºrkei",
                translation: "N∆∞·ªõc Th·ªï Nhƒ© K·ª≥",
                category: "Qu·ªëc gia",
                example: '"Er kommt aus der T√ºrkei." (Anh ·∫•y ƒë·∫øn t·ª´ Th·ªï Nhƒ© K·ª≥.)'
            },
            {
                german: "Russland",
                translation: "N∆∞·ªõc Nga",
                category: "Qu·ªëc gia",
                example: '"Sie wohnt in Russland." (C√¥ ·∫•y s·ªëng ·ªü Nga.)'
            },
            {
                german: "Brasilien",
                translation: "N∆∞·ªõc Brazil",
                category: "Qu·ªëc gia",
                example: '"Wir besuchen Brasilien." (Ch√∫ng t√¥i thƒÉm Brazil.)'
            },
            
            // C·ª•m t·ª´ giao ti·∫øp th√¥ng d·ª•ng
            {
                german: "Guten Tag!",
                translation: "Ch√†o (trang tr·ªçng)",
                category: "Giao ti·∫øp",
                example: '"Guten Tag! Wie geht es Ihnen?" (Xin ch√†o! √îng/b√† c√≥ kh·ªèe kh√¥ng?)'
            },
            {
                german: "Hallo!",
                translation: "Ch√†o (th√¢n m·∫≠t)",
                category: "Giao ti·∫øp",
                example: '"Hallo! Wie geht\'s?" (Ch√†o! B·∫°n kh·ªèe kh√¥ng?)'
            },
            {
                german: "Sag mal...",
                translation: "N√†y... / N√≥i xem n√†o...",
                category: "Giao ti·∫øp",
                example: '"Sag mal, woher kommst du?" (N√†y, b·∫°n ƒë·∫øn t·ª´ ƒë√¢u?)'
            },
            {
                german: "Cool!",
                translation: "Tuy·ªát!",
                category: "Giao ti·∫øp",
                example: '"Du sprichst gut Deutsch!" - "Cool!" (B·∫°n n√≥i ti·∫øng ƒê·ª©c gi·ªèi qu√°! - Tuy·ªát!)'
            },
            {
                german: "Ja, super!",
                translation: "V√¢ng, tuy·ªát v·ªùi!",
                category: "Giao ti·∫øp",
                example: '"Wir gehen heute ins Kino." - "Ja, super!" (H√¥m nay ch√∫ng ta ƒëi xem phim. - V√¢ng, tuy·ªát v·ªùi!)'
            },
            {
                german: "Gesundheit!",
                translation: "Ch√∫c s·ª©c kh·ªèe!",
                category: "Giao ti·∫øp",
                example: '*After someone sneezes* "Gesundheit!"'
            },
            {
                german: "Guten Appetit!",
                translation: "Ch√∫c ngon mi·ªáng!",
                category: "Giao ti·∫øp",
                example: '"Das Essen ist fertig. Guten Appetit!" (Th·ª©c ƒÉn ƒë√£ s·∫µn s√†ng. Ch√∫c ngon mi·ªáng!)'
            },
            {
                german: "Danke, gleichfalls!",
                translation: "C·∫£m ∆°n, b·∫°n c≈©ng v·∫≠y nh√©!",
                category: "Giao ti·∫øp",
                example: '"Guten Appetit!" - "Danke, gleichfalls!" (Ch√∫c ngon mi·ªáng! - C·∫£m ∆°n, b·∫°n c≈©ng v·∫≠y nh√©!)'
            }
        ];

        // L·∫•y t·∫•t c·∫£ c√°c category duy nh·∫•t
        const categories = [...new Set(vocabulary.map(item => item.category))];
        
        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        let currentCardIndex = 0;
        let learnedCards = new Set();
        let currentCategory = "T·∫•t c·∫£";
        let currentCardIds = []; // M·∫£ng ch·ª©a c√°c ID th·∫ª hi·ªán t·∫°i theo category
        
        // DOM Elements
        const flashcard = document.getElementById('flashcard');
        const germanWord = document.getElementById('germanWord');
        const cardCategory = document.getElementById('cardCategory');
        const translation = document.getElementById('translation');
        const example = document.getElementById('example');
        const flipBtn = document.getElementById('flipBtn');
        const easyBtn = document.getElementById('easyBtn');
        const mediumBtn = document.getElementById('mediumBtn');
        const hardBtn = document.getElementById('hardBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const learnedCount = document.getElementById('learnedCount');
        const totalCount = document.getElementById('totalCount');
        const streakCount = document.getElementById('streakCount');
        const categoryFilter = document.getElementById('categoryFilter');
        const cardCounter = document.getElementById('cardCounter');
        
        // Kh·ªüi t·∫°o b·ªô l·ªçc category
        function initCategoryFilter() {
            // Th√™m n√∫t "T·∫•t c·∫£"
            const allButton = document.createElement('div');
            allButton.className = 'category-btn active';
            allButton.textContent = 'T·∫•t c·∫£';
            allButton.addEventListener('click', () => filterByCategory('T·∫•t c·∫£'));
            categoryFilter.appendChild(allButton);
            
            // Th√™m c√°c n√∫t category
            categories.forEach(category => {
                const button = document.createElement('div');
                button.className = 'category-btn';
                button.textContent = category;
                button.addEventListener('click', () => filterByCategory(category));
                categoryFilter.appendChild(button);
            });
        }
        
        // L·ªçc theo category
        function filterByCategory(category) {
            currentCategory = category;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i active c·ªßa n√∫t
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent === category) {
                    btn.classList.add('active');
                }
            });
            
            // T·∫°o danh s√°ch ID th·∫ª theo category
            currentCardIds = [];
            vocabulary.forEach((item, index) => {
                if (currentCategory === "T·∫•t c·∫£" || item.category === currentCategory) {
                    currentCardIds.push(index);
                }
            });
            
            // Hi·ªÉn th·ªã th·∫ª ƒë·∫ßu ti√™n c·ªßa category ƒë∆∞·ª£c ch·ªçn
            currentCardIndex = 0;
            showCard();
            updateStats();
        }
        
        // Hi·ªÉn th·ªã th·∫ª hi·ªán t·∫°i
        function showCard() {
            if (currentCardIds.length === 0) return;
            
            const cardId = currentCardIds[currentCardIndex];
            const card = vocabulary[cardId];
            
            germanWord.textContent = card.german;
            cardCategory.textContent = card.category;
            translation.textContent = card.translation;
            example.textContent = card.example;
            
            // ƒê·∫£m b·∫£o th·∫ª hi·ªÉn th·ªã m·∫∑t tr∆∞·ªõc
            flashcard.classList.remove('flipped');
            
            // C·∫≠p nh·∫≠t b·ªô ƒë·∫øm th·∫ª
            cardCounter.textContent = `Th·∫ª ${currentCardIndex + 1}/${currentCardIds.length}`;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ƒëi·ªÅu h∆∞·ªõng
            updateNavigationButtons();
            
            updateStats();
        }
        
        // Chuy·ªÉn ƒë·∫øn th·∫ª tr∆∞·ªõc
        function prevCard() {
            if (currentCardIds.length === 0) return;
            
            currentCardIndex = (currentCardIndex - 1 + currentCardIds.length) % currentCardIds.length;
            showCard();
        }
        
        // Chuy·ªÉn ƒë·∫øn th·∫ª ti·∫øp theo
        function nextCard() {
            if (currentCardIds.length === 0) return;
            
            currentCardIndex = (currentCardIndex + 1) % currentCardIds.length;
            showCard();
        }
        
        // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ƒëi·ªÅu h∆∞·ªõng
        function updateNavigationButtons() {
            if (currentCardIds.length === 0) {
                prevBtn.disabled = true;
                nextBtn.disabled = true;
                return;
            }
            
            // N√∫t Previous b·ªã v√¥ hi·ªáu h√≥a n·∫øu ƒëang ·ªü th·∫ª ƒë·∫ßu ti√™n
            prevBtn.disabled = currentCardIndex === 0;
            
            // N√∫t Next b·ªã v√¥ hi·ªáu h√≥a n·∫øu ƒëang ·ªü th·∫ª cu·ªëi c√πng
            nextBtn.disabled = currentCardIndex === currentCardIds.length - 1;
        }
        
        // C·∫≠p nh·∫≠t th·ªëng k√™
        function updateStats() {
            let filteredVocabulary = vocabulary;
            
            if (currentCategory !== "T·∫•t c·∫£") {
                filteredVocabulary = vocabulary.filter(item => item.category === currentCategory);
            }
            
            const total = filteredVocabulary.length;
            const learned = Array.from(learnedCards).filter(index => {
                const card = vocabulary[index];
                return currentCategory === "T·∫•t c·∫£" || card.category === currentCategory;
            }).length;
            
            totalCount.textContent = total;
            learnedCount.textContent = learned;
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh
            const progress = total > 0 ? (learned / total) * 100 : 0;
            progressBar.style.width = `${progress}%`;
            
            // C·∫≠p nh·∫≠t streak (gi·∫£ l·∫≠p)
            streakCount.textContent = Math.floor(Math.random() * 10) + 1;
        }
        
        // X·ª≠ l√Ω s·ª± ki·ªán
        flashcard.addEventListener('click', () => {
            flashcard.classList.toggle('flipped');
        });
        
        flipBtn.addEventListener('click', () => {
            flashcard.classList.toggle('flipped');
        });
        
        easyBtn.addEventListener('click', () => {
            const cardId = currentCardIds[currentCardIndex];
            learnedCards.add(cardId);
            updateStats();
        });
        
        mediumBtn.addEventListener('click', () => {
            // V·ªõi m·ª©c ƒë·ªô trung b√¨nh, th√™m v√†o danh s√°ch ƒë√£ h·ªçc v·ªõi x√°c su·∫•t 50%
            if (Math.random() > 0.5) {
                const cardId = currentCardIds[currentCardIndex];
                learnedCards.add(cardId);
            }
            updateStats();
        });
        
        hardBtn.addEventListener('click', () => {
            // V·ªõi m·ª©c ƒë·ªô kh√≥, kh√¥ng th√™m v√†o danh s√°ch ƒë√£ h·ªçc
            updateStats();
        });
        
        prevBtn.addEventListener('click', () => {
            prevCard();
        });
        
        nextBtn.addEventListener('click', () => {
            nextCard();
        });
        
        // Th√™m s·ª± ki·ªán b√†n ph√≠m
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                prevCard();
            } else if (e.key === 'ArrowRight') {
                nextCard();
            } else if (e.key === ' ') {
                flashcard.classList.toggle('flipped');
                e.preventDefault(); // NgƒÉn kh√¥ng cho cu·ªôn trang
            }
        });
        
        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        function initApp() {
            initCategoryFilter();
            filterByCategory("T·∫•t c·∫£"); // B·∫Øt ƒë·∫ßu v·ªõi t·∫•t c·∫£ c√°c th·∫ª
        }
        
        // B·∫Øt ƒë·∫ßu ·ª©ng d·ª•ng
        initApp();
    </script>
</body>
</html>
